
{% extends 'dashboard/index.html' %}
{% load static %}

{% block header %}
<header class="navbar navbar-expand-md navbar-light d-print-none">
    <div class="container-fluid">
        <h1 class="navbar-brand">后台参数配置</h1>
    </div>
</header>
{% endblock %}

{% block content %}
<div class="card mt-4">
    <div class="card-header">
        <h3 class="card-title">参数配置</h3>
    </div>
    <div class="card-body">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <!-- 项目简称和全称 -->
            <div class="mb-3">
                <label class="form-label">项目简称</label>
                <input type="text" class="form-control" name="project_name" placeholder="请输入项目简称">
            </div>
            <div class="mb-3">
                <label class="form-label">项目全称</label>
                <input type="text" class="form-control" name="project_name_full" placeholder="请输入项目全称">
            </div>

            <!-- 取样方式 -->
            <div class="mb-3">
                <label class="form-label">取样方式</label>
                <select class="form-select" id="sampling_method" name="sampling_method">
                    <option value="">请选择</option>
                    <option value="manual">手工取样</option>
                    <option value="auto">自动化取样</option>
                </select>
            </div>

            <div id="config">
                <h4 class="mt-4">取样配置</h4>

                <!-- 工作清单配置 -->
                <div class="mb-3">
                    <label class="form-label">曲线点数</label>
                    <select class="form-select" name="curve_points">
                        {% for i in curve_range %}
                            <option value="{{ i }}">{{ i }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <label class="form-label">质控组数</label>
                        <select class="form-select" name="qc_groups">
                            <option value="2">2</option>
                            <option value="3">3</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">质控水平数</label>
                        <select class="form-select" name="qc_levels">
                            <option value="2">2</option>
                            <option value="3">3</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">是否在中间插入质控</label>
                        <select class="form-select" name="qc_insert">
                            <option value="yes">是</option>
                            <option value="no">否</option>
                        </select>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-md-6">
                        <label class="form-label">Test数</label>
                        <select class="form-select" name="test_count">
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">工作清单排列方式</label>
                        <select class="form-select" name="layout">
                            <option value="horizontal">横向</option>
                            <option value="vertical">纵向</option>
                        </select>
                    </div>
                </div>

                <br>
                <!-- 默认上机仪器 -->
                <div class="mb-3">
                    <label class="form-label">默认上机仪器</label>
                    <input type="text" class="form-control" name="default_upload_instrument" placeholder="请输入默认上机仪器">
                </div>

                <!-- 系统号 -->
                <div class="mb-3">
                    <label class="form-label">系统号</label>
                    <select class="form-select" name="systerm_num">
                        <option value="S0">S0</option>
                        <option value="S1">S1</option>
                        <option value="S2">S2</option>
                        <option value="S3">S3</option>
                        <option value="S4">S4</option>
                    </select>
                </div>

                <div class="mt-3">
                    <label class="form-label">对应关系表</label>
                    <input type="file" class="form-control" name="mapping_file" accept=".xlsx,.xls">
                </div>
            </div>


            <div class="mt-4">
                <button class="btn btn-primary">保存设置</button>
            </div>
        </form>
    </div>
</div>

{% endblock %}