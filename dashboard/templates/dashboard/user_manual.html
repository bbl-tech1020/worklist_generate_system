{% extends "dashboard/index.html" %}
{% load static %}

{% block header %}
<header class="navbar navbar-expand-md navbar-light d-print-none">
  <div class="container-fluid">
    <h1 class="navbar-brand">使用说明</h1>
  </div>
</header>
<style>
  .pdf-toolbar{
    display:flex; gap:10px; align-items:center;
    padding:10px 16px; border-bottom:1px solid #eee;
    background:#f8f9fa;
  }
  .pdf-container{
    height: calc(100vh - 160px); /* 视口高度，适配你的导航高度 */
  }
  .pdf-frame{
    width:100%; height:100%; border:0;
  }
</style>
{% endblock %}

{% block content %}
<div class="pdf-toolbar">
  <a class="btn btn-primary" href="{% static 'docs/user_manual.pdf' %}" target="_blank">在新标签打开</a>
  <a class="btn btn-secondary" href="{% static 'docs/user_manual.pdf' %}" download="使用说明.pdf">下载 PDF</a>
  <span class="text-muted">如无法内嵌预览，请点击“在新标签打开”或“下载”。</span>
</div>

<div class="pdf-container">
  <!-- 方式一：内嵌浏览器 PDF 预览（兼容 Chrome/Edge/Firefox） -->
  <iframe class="pdf-frame" src="{% static 'docs/user_manual.pdf' %}#view=FitH"></iframe>

  <!-- 方式二（备选）：若部分浏览器禁用 iframe，可换成 <object> -->
  <!--
  <object class="pdf-frame" type="application/pdf" data="{% static 'docs/user_manual.pdf' %}">
    无法预览 PDF。请 <a href="{% static 'docs/user_manual.pdf' %}">点击下载</a>。
  </object>
  -->
</div>
{% endblock %}
